---
import Layout from '../layouts/Layout.astro';

const base = import.meta.env.BASE_URL;

// Sample blog posts - will be replaced with CMS later
const posts = [
  {
    title: "Transforming Hargeisa's Market District: A Year of Progress",
    excerpt: "One year after launching our cleanup initiative in Hargeisa's central market, we're celebrating remarkable transformation. From mountains of accumulated waste to a thriving, clean commercial hub‚Äîhere's how community volunteers made it happen.",
    date: "November 15, 2024",
    author: "Amina Hassan",
    category: "Success Stories",
    image: `${base}images/cleanup.jpg`,
    readTime: "5 min read"
  },
  {
    title: "Why Menstrual Health Education Matters for School Attendance",
    excerpt: "Our data from 50+ partner schools reveals a direct connection between menstrual health education and student attendance. When girls understand their bodies and have access to products, absence rates drop by 95%. Here's what we've learned.",
    date: "October 28, 2024",
    author: "Dr. Fatima Yusuf",
    category: "Education",
    image: `${base}images/students.jpg`,
    readTime: "7 min read"
  },
  {
    title: "Building Local Capacity: Training Tomorrow's Environmental Leaders",
    excerpt: "Our volunteer training program doesn't just teach cleanup techniques‚Äîit develops leadership skills that ripple through communities. Meet five volunteers who started with Dila and now lead environmental initiatives across Somaliland.",
    date: "October 10, 2024",
    author: "Mohamed Ibrahim",
    category: "Volunteer Stories",
    image: `${base}images/volunteers-group.jpg`,
    readTime: "6 min read"
  },
  {
    title: "The Link Between Clean Water and Community Health: New Research",
    excerpt: "Our six-month study in ten rural communities shows a 50% reduction in waterborne illness after implementing simple water safety education and waste management practices. The data is compelling‚Äîand the solution is achievable.",
    date: "September 22, 2024",
    author: "Dr. Ahmed Hassan",
    category: "Research",
    image: `${base}images/education.jpg`,
    readTime: "8 min read"
  }
];
---

<Layout 
  title="Blog - Dila News and Stories"
  description="Read the latest news, success stories, and insights from Dila's environmental health programs in Somaliland."
>
  <!-- Hero Section -->
  <section class="page-hero">
    <div class="container">
      <h1>Blog</h1>
      <p class="hero-subtitle">Stories, insights, and updates from our work in East Africa</p>
    </div>
  </section>

  <!-- Categories Filter -->
  <section style="background: var(--light-blue-bg); padding: 1.5rem 0;">
    <div class="container">
      <div class="category-filter">
        <button class="category-btn active">All Posts</button>
        <button class="category-btn">Success Stories</button>
        <button class="category-btn">Education</button>
        <button class="category-btn">Volunteer Stories</button>
        <button class="category-btn">Research</button>
      </div>
    </div>
  </section>

  <!-- Blog Posts Grid -->
  <section class="py-4">
    <div class="container">
      <div class="blog-grid">
        {posts.map(post => (
          <article class="blog-card">
            <div class="blog-image">
              <img src={post.image} alt={post.title} />
              <div class="blog-category">{post.category}</div>
            </div>
            <div class="blog-content">
              <div class="blog-meta">
                <span>{post.date}</span>
                <span>‚Ä¢</span>
                <span>{post.readTime}</span>
              </div>
              <h2>{post.title}</h2>
              <p>{post.excerpt}</p>
              <div class="blog-footer">
                <span class="blog-author">By {post.author}</span>
                <a href="#" class="read-more">Read More ‚Üí</a>
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Newsletter Signup -->
  <section class="py-4" style="background: var(--light-blue-bg);">
    <div class="container">
      <div class="highlight-box">
        <h2 style="color: var(--dila-blue); margin-top: 0;">Stay Updated</h2>
        <p style="font-size: 1.1rem; margin-bottom: 2rem;">Subscribe to receive our latest stories and program updates</p>
        
        <form style="max-width: 500px; margin: 0 auto;">
          <div style="display: flex; gap: 1rem;">
            <input 
              type="email" 
              placeholder="Your email address" 
              style="flex: 1; padding: 14px; border: 2px solid var(--dila-blue); border-radius: 6px; font-size: 1rem;"
            />
            <button type="submit" class="btn">Subscribe</button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- Sidebar CTA -->
  <section class="py-4">
    <div class="container">
      <div class="grid grid-3">
        <div class="cta-card">
          <h3>ü§ù Get Involved</h3>
          <p>Join our volunteer network and be part of the change you want to see.</p>
          <a href={`${base}get-involved#volunteer`} class="btn mt-2">Volunteer</a>
        </div>
        <div class="cta-card">
          <h3>üíô Support Our Work</h3>
          <p>Every donation directly funds programs creating healthier communities.</p>
          <a href={`${base}get-involved#donate`} class="btn mt-2">Donate</a>
        </div>
        <div class="cta-card">
          <h3>üìä View Our Impact</h3>
          <p>See the measurable results of our community-led programs.</p>
          <a href={`${base}impact`} class="btn mt-2">See Impact</a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .page-hero {
    background: linear-gradient(135deg, var(--dila-blue) 0%, var(--dark-navy) 100%);
    color: white;
    padding: 4rem 0;
    text-align: center;
  }

  .page-hero h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: white;
  }

  .hero-subtitle {
    font-size: 1.3rem;
    max-width: 700px;
    margin: 0 auto;
    opacity: 0.95;
  }

  .category-filter {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .category-btn {
    padding: 10px 24px;
    background: white;
    color: var(--text-dark);
    border: 2px solid var(--light-gray);
    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .category-btn:hover,
  .category-btn.active {
    background: var(--dila-blue);
    color: white;
    border-color: var(--dila-blue);
  }

  .blog-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin: 2rem 0;
  }

  @media (min-width: 768px) {
    .blog-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .blog-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid var(--light-gray);
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  }

  .blog-card:hover {
    border-color: var(--cyan);
    box-shadow: 0 8px 30px rgba(0, 243, 255, 0.2);
    transform: translateY(-5px);
  }

  .blog-image {
    position: relative;
    height: 250px;
    overflow: hidden;
  }

  .blog-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .blog-card:hover .blog-image img {
    transform: scale(1.05);
  }

  .blog-category {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: var(--dila-blue);
    color: white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .blog-content {
    padding: 1.5rem;
  }

  .blog-meta {
    display: flex;
    gap: 0.5rem;
    color: var(--gray);
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }

  .blog-content h2 {
    color: var(--text-dark);
    font-size: 1.4rem;
    margin-bottom: 1rem;
    line-height: 1.3;
  }

  .blog-content p {
    color: var(--gray);
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .blog-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1rem;
    border-top: 1px solid var(--light-gray);
  }

  .blog-author {
    color: var(--gray);
    font-size: 0.9rem;
    font-weight: 600;
  }

  .read-more {
    color: var(--dila-blue);
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .read-more:hover {
    color: var(--cyan);
    transform: translateX(3px);
  }

  .cta-card {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    border: 2px solid var(--light-gray);
    text-align: center;
    transition: all 0.3s ease;
  }

  .cta-card:hover {
    border-color: var(--cyan);
    box-shadow: 0 6px 20px rgba(0, 243, 255, 0.2);
  }

  .cta-card h3 {
    color: var(--dila-blue);
    margin-bottom: 1rem;
    font-size: 1.3rem;
  }

  @media (max-width: 768px) {
    .page-hero h1 {
      font-size: 2rem;
    }

    .hero-subtitle {
      font-size: 1.1rem;
    }

    .blog-content h2 {
      font-size: 1.2rem;
    }
  }
</style>

<script>
  // Category filter functionality (basic)
  document.querySelectorAll('.category-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      // In future: filter posts by category
    });
  });
</script>